Count: 8481  Time=0.01s (114s)  Lock=0.00s (0s)  Rows=1.0 (8481), isucon[isucon]@localhost
  SELECT IFNULL(SUM(l2.tip), N) FROM users u
  INNER JOIN livestreams l ON l.user_id = u.id
  INNER JOIN livecomments l2 ON l2.livestream_id = l.id
  WHERE u.id = N

Count: 108927  Time=0.00s (22s)  Lock=0.00s (0s)  Rows=1.0 (108927), isucon[isucon]@localhost
  SELECT * FROM tags WHERE id = N

Count: 5656  Time=0.00s (21s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@localhost
  COMMIT

Count: 29844  Time=0.00s (15s)  Lock=0.00s (0s)  Rows=0.0 (0), isudns[isudns]@localhost
  select kind,content from domains, domainmetadata where domainmetadata.domain_id=domains.id and name='S'

Count: 24284  Time=0.00s (12s)  Lock=0.00s (0s)  Rows=0.2 (3664), isudns[isudns]@localhost
  SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=N and name='S' and domain_id=N

Count: 89815  Time=0.00s (12s)  Lock=0.00s (0s)  Rows=0.0 (4), 2users@localhost
  #

Count: 34801  Time=0.00s (11s)  Lock=0.00s (0s)  Rows=0.9 (31404), isucon[isucon]@localhost
  SELECT image_hash FROM icons WHERE user_id = N

Count: 210  Time=0.05s (10s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@localhost
  UPDATE reservation_slots SET slot = slot - N WHERE start_at >= N AND end_at <= N

Count: 211  Time=0.05s (10s)  Lock=0.00s (0s)  Rows=9.5 (2000), isucon[isucon]@localhost
  SELECT * FROM reservation_slots WHERE start_at >= N AND end_at <= N FOR UPDATE

Count: 34812  Time=0.00s (9s)  Lock=0.00s (0s)  Rows=1.0 (34812), isucon[isucon]@localhost
  SELECT * FROM themes WHERE user_id = N

Count: 17376  Time=0.00s (9s)  Lock=0.00s (0s)  Rows=0.5 (8817), isudns[isudns]@localhost
  SELECT content,ttl,prio,type,domain_id,disabled,name,auth FROM records WHERE disabled=N and type='S' and name='S'

Count: 8481  Time=0.00s (9s)  Lock=0.00s (0s)  Rows=1.0 (8481), isucon[isucon]@localhost
  SELECT COUNT(*) FROM users u
  INNER JOIN livestreams l ON l.user_id = u.id
  INNER JOIN reactions r ON r.livestream_id = l.id
  WHERE u.id = N

Count: 24409  Time=0.00s (8s)  Lock=0.00s (0s)  Rows=4.5 (108936), isucon[isucon]@localhost
  SELECT * FROM livestream_tags WHERE livestream_id = N

Count: 34365  Time=0.00s (8s)  Lock=0.00s (0s)  Rows=1.0 (34365), isucon[isucon]@localhost
  SELECT * FROM users WHERE id = N

Count: 1000  Time=0.00s (4s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@localhost
  INSERT INTO users (id, name, display_name, description, password) VALUES (N, 'S', 'S', 'S', 'S')

Count: 14992  Time=0.00s (3s)  Lock=0.00s (0s)  Rows=1.0 (14992), isucon[isucon]@localhost
  SELECT IFNULL(SUM(l2.tip), N) FROM livestreams l INNER JOIN livecomments l2 ON l.id = l2.livestream_id WHERE l.id = N

Count: 453  Time=0.01s (3s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@localhost
  INSERT INTO icons (user_id, image, image_hash) VALUES (N, 'S', 'S')

Count: 440  Time=0.01s (3s)  Lock=0.00s (0s)  Rows=0.0 (0), isudns[isudns]@localhost
  commit

Count: 13017  Time=0.00s (3s)  Lock=0.00s (0s)  Rows=1.0 (13017), isucon[isucon]@localhost
  SELECT * FROM livestreams WHERE id = N

Count: 510  Time=0.00s (2s)  Lock=0.00s (0s)  Rows=0.0 (0), isucon[isucon]@localhost
  INSERT INTO themes (user_id, dark_mode) VALUES (N, true)

